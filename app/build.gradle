apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'io.fabric'

android {
  compileSdkVersion Versions.compileSdk
  buildToolsVersion Versions.buildTools
  defaultConfig {
    applicationId ApplicationId.id
    minSdkVersion Versions.minSdk
    targetSdkVersion Versions.targetSdk
    versionCode Releases.versionCode
    versionName Releases.versionName
    multiDexEnabled true
    signingConfig signingConfigs.debug
  }

  lintOptions {
    abortOnError false
  }
  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }

  kotlinOptions {
    jvmTarget = JavaVersion.VERSION_1_8.toString()
  }

  flavorDimensions "default"

  productFlavors {
    dev {
      dimension "default"

    }
    prod {
      dimension "default"

    }
  }

  buildTypes {
    release {
      minifyEnabled true
    }
    debug {
      debuggable true
      signingConfig signingConfigs.debug
    }
  }

  testOptions {
    unitTests.returnDefaultValues = true
  }
  dynamicFeatures = [Modules.swabbr]
}

dependencies {
  implementation project(Modules.cache)
  implementation project(Modules.network)
  implementation project(Modules.navigation)
  implementation project(Modules.presentation)

  implementation Libraries.kotlin

  implementation Libraries.koinAndroid
  implementation Libraries.koinViewModel

  implementation Libraries.lifecycleExtensions

  implementation Libraries.rxjava
  implementation Libraries.rxkotlin

  implementation Libraries.moshiConverter
  implementation Libraries.workmanager
  implementation Libraries.workmanagerRxjava
  implementation 'com.github.dhaval2404:imagepicker:1.7.1'

  implementation GoogleLibraries.material

  implementation JetpackLibraries.appcompat
  // Firebase
  implementation FirebaseLibraries.analytics
  implementation FirebaseLibraries.messaging
  implementation FirebaseLibraries.iid
  implementation FirebaseLibraries.crashlytics

  debugImplementation FirebaseLibraries.leakCanaryAndroid

  testImplementation TestLibraries.junit

}

repositories {
  google()
}

apply plugin: 'com.google.gms.google-services'
